<Modal @ref="modal">
    <ModalContent Centered="true" Size="ModalSize.Default">
        <ModalHeader>
            <ModalTitle>@provider.name</ModalTitle>
            <CloseButton />
        </ModalHeader>
        <ModalBody>
            <Row>
                <Column ColumnSize="ColumnSize.IsAuto">
                    @if (string.IsNullOrEmpty(provider.logo_path))
                    {

                    }
                    else
                    {
                        <Image Source="@("https://www.themoviedb.org/t/p/original/" + provider.logo_path)" Text="@provider.name"></Image>
                    }
                </Column>
                <Column>
                    <Paragraph Alignment="TextAlignment.Justified">
                        @*document.querySelector('meta[name="description"]').content*@
                        @provider.description
                    </Paragraph>                   
                </Column>
            </Row>
        </ModalBody>
        <ModalFooter Style="justify-content: space-between;">
            @if (string.IsNullOrEmpty(provider.link))
            {
                <a href="@("https://www.google.com/search?q=streaming+" + provider.name)" target="_blank" rel="noopener" style="float: left;">search on google</a>
            }
            else
            {
                <a href="@provider.link" target="_blank" rel="noopener" style="float: left;">@(new Uri(provider.link).Host)</a>
            }
            <Button Color="Color.Secondary" Clicked="@modal.Hide">Fechar</Button>
        </ModalFooter>
    </ModalContent>
</Modal>

@code {
    private Modal modal;

    public MyStream.Modal.Provider provider { get; set; } = new();

    public void ShowModal(MyStream.Modal.Provider provider)
    {
        if (provider == null) provider = new();

        modal.Show();

        if (string.IsNullOrEmpty(provider.description))
        {
            provider.description += "No description found";
        }

        this.provider = provider;
    }
}